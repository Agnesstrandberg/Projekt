import matplotlib.pyplot as plt
from beräkningar2 import kör_simulation_två_rum


# Gemensamma startvärden (referensfall)

T1_start = 17          # Starttemperatur rum 1
T2_start = 15          # Starttemperatur rum 2
T_ute = -5             # Utomhustemperatur
timmar = 48             # Simuleringstid
P = 2                  # Elementets effekt
T_önskad = 21         # Önskad temperatur i rum 1


# EXPERIMENT 1 – Referensfall

temp1_r1, temp1_r2, energi1 = kör_simulation_två_rum(T1_start, T2_start,T_ute, T_önskad,k_forlust_1=0.02,k_forlust_2=0.02,k_vagg=0.9,P=P,timmar=timmar)


# EXPERIMENT 2 – Lägre värmeöverföring mellan rum

temp2_r1, temp2_r2, energi2 = kör_simulation_två_rum(T1_start, T2_start,T_ute, T_önskad,k_forlust_1=0.02,k_forlust_2=0.02,k_vagg=0.3,P=P,timmar=timmar)


# EXPERIMENT 3 – Sämre isolering i båda rummen

temp3_r1, temp3_r2, energi3 = kör_simulation_två_rum(T1_start, T2_start,T_ute, T_önskad,k_forlust_1=0.05,k_forlust_2=0.05,k_vagg=0.9,P=P,timmar=timmar)


# EXPERIMENT 4 – Bättre isolering i rum utan element

temp4_r1, temp4_r2, energi4 = kör_simulation_två_rum(T1_start, T2_start,T_ute, T_önskad,k_forlust_1=0.05,k_forlust_2=0.02,k_vagg=0.9,P=P,timmar=timmar)


# Skriv ut energiförbrukning

print("Energiförbrukning (timmar elementet är på):" )
print("Experiment 1 – Referensfall:", energi1)
print("Experiment 2 – Lägre värmeöverföring:", energi2)
print("Experiment 3 – Sämre isolering:", energi3)
print("Experiment 4 – Bättre isolering rum 2:", energi4)


# Funktion för att rita grafer

def plot_temperatures(temp_r1, temp_r2, title):
    plt.figure()
    plt.plot(temp_r1, label="Rum 1")
    plt.plot(temp_r2, label="Rum 2")
    plt.xlabel("Tid (timmar)")
    plt.ylabel("Temperatur (°C)")
    plt.title(title)
    plt.legend()
    plt.grid()
    plt.show()


# Rita grafer för varje experiment

plot_temperatures(temp1_r1, temp1_r2, "Experiment 1 – Referensfall")
plot_temperatures(temp2_r1, temp2_r2, "Experiment 2 – Lägre värmeöverföring")
plot_temperatures(temp3_r1, temp3_r2, "Experiment 3 – Sämre isolering")
plot_temperatures(temp4_r1, temp4_r2, "Experiment 4 – Bättre isolering i rum 2")
