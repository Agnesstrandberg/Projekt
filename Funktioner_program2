#Returnerar 1 om elementet är på och 0 om elementet är av
def termometer(T, T_önskad):
    
    
    if T < T_önskad:
        return 1
    else:
        return 0

#Beräknar temperaturen nästa timme
def nästa_temperatur(T, T_ute, k_forlust, P, u):


    return T + k_forlust * (T_ute - T) + u * P

#Kör simuleringen och returnerar: lista med temperaturer och energiförbrukning
def kör_simulation(T_start,T_ute,T_önskad,k_forlust,P,timmar):


    T = T_start
    temperaturer = []
    energi = 0

    for _ in range(timmar):
        temperaturer.append(T)

        u = termometer(T, T_önskad)
        if u == 1:
            energi += 1

        T = nästa_temperatur(T, T_ute, k_forlust, P, u)

    return temperaturer, energi





# PROGRAM 2

# Temperaturuppdatering för två rum
#Beräknar temperaturen nästa timme för två rum där endast rum 1 har element

def nästa_temperatur_två_rum(T1,T2,T_ute,k_forlust_1, k_forlust_2,k_vagg,P,u):


    # Rum 1 (med element)
    T1_ny = (T1+ k_forlust_1 * (T_ute - T1)+ k_vagg * (T2 - T1) + u * P)

    # Rum 2 (utan element)
    T2_ny = (T2+ k_forlust_2 * (T_ute - T2) + k_vagg * (T1 - T2) )

    return T1_ny, T2_ny



# Simulering för två rum
# Kör simuleringen och returnerar temperaturen i rum 1 och 2 samt energiförburkning

def kör_simulation_två_rum(T1_start, T2_start,T_ute,T_önskad,k_forlust_1, k_forlust_2,k_vagg,P,timmar):



    T1 = T1_start
    T2 = T2_start

    temp1 = []
    temp2 = []
    energi = 0

    for _ in range(timmar):
        temp1.append(T1)
        temp2.append(T2)

# Termostat styr rum 1
        u = termometer(T1, T_önskad)
        if u == 1:
            energi += 1

        T1, T2 = nästa_temperatur_två_rum(T1, T2,T_ute,k_forlust_1, k_forlust_2,k_vagg,P, u)

    return temp1, temp2, energi
